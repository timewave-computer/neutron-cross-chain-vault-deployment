#![no_std]
extern crate alloc;

use alloc::{format, string::ToString as _, vec, vec::Vec};
use alloy_sol_types::{SolCall, SolValue};
use clearing_queue_core::{VAULT_ADDRESS, WithdrawRequest, withdrawRequestsCall};
use serde_json::{Value, json};
use valence_coprocessor::{StateProof, Witness};
use valence_coprocessor_ethereum::{
    Ethereum,
    controller::{EthereumStateProofArgsBuilder, EthereumStorageLayoutBuilder},
};

use valence_coprocessor_wasm::abi;

const NETWORK: &str = "eth-mainnet";
const DOMAIN: &str = "ethereum-electra-alpha";

const FN_SELECTOR: [u8; 4] = withdrawRequestsCall::SELECTOR;

/// slot value of the storageLayout of the ABI. Can be obtained via foundry.
const WITHDRAWS_MAPPING_SLOT: u64 = 0xA;

pub fn get_witnesses(args: Value) -> anyhow::Result<Vec<Witness>> {
    let block =
        abi::get_latest_block(DOMAIN)?.ok_or_else(|| anyhow::anyhow!("no valid domain block"))?;

    let block = format!("{:#x}", block.number);

    let withdraw_request_id = args["withdraw_request_id"].as_u64().unwrap();

    let encoded = (withdraw_request_id).abi_encode();
    let encoded = [FN_SELECTOR.as_slice(), &encoded].concat();
    let encoded = hex::encode(encoded);
    let encoded = ["0x", encoded.as_str()].concat();

    let data = abi::alchemy(
        NETWORK,
        "eth_call",
        &json!(
            [
                {
                    "to": VAULT_ADDRESS,
                    "data": encoded,
                },
                block,
            ]
        ),
    )?;

    let data = data
        .as_str()
        .and_then(|d| d.strip_prefix("0x"))
        .ok_or_else(|| anyhow::anyhow!("invalid response"))?;

    let data = hex::decode(data).map_err(|e| anyhow::anyhow!("invalid response hex: {e}"))?;
    let withdraw = WithdrawRequest::try_from_eth_call(&data)?;

    let state_proof = prove_withdraw(withdraw.clone())?;

    abi::log!("State proof: {}", serde_json::to_string(&state_proof)?)?;

    let proof = Witness::StateProof(state_proof);

    let witness_vec = bincode::serde::encode_to_vec(withdraw, bincode::config::standard())?;
    let withdraw = Witness::Data(witness_vec);

    Ok(vec![proof, withdraw])
}

pub fn prove_withdraw(withdraw: WithdrawRequest) -> anyhow::Result<StateProof> {
    // initializes the storage layout for a mapping indexed by base slot 10
    let layout = EthereumStorageLayoutBuilder::new_mapping(withdraw.id, WITHDRAWS_MAPPING_SLOT)
        // ethereum will combine multiple contiguous values into a slot, if they fit 32 bytes
        .add_combined_values([&withdraw.owner.into_array()[..], &withdraw.id.to_be_bytes()])
        // the remainder values are trivially inserted into individual slots
        .add_value(withdraw.redemptionRate.to_be_bytes_trimmed_vec())
        .add_value(withdraw.sharesAmount.to_be_bytes_trimmed_vec())
        // arbitrary length values, such as string, are also supported
        .add_string_value(withdraw.receiver)
        // finishes the layout
        .build();

    let address = VAULT_ADDRESS;
    let args = EthereumStateProofArgsBuilder::new(address.into())
        .with_storage(layout)
        .build()?;

    // computes the StateProof object that can be used as witness
    Ethereum::get_state_proof(&args)
}

pub fn entrypoint(args: Value) -> anyhow::Result<Value> {
    abi::log!(
        "received an entrypoint request with arguments {}",
        serde_json::to_string(&args).unwrap_or_default()
    )?;

    let cmd = args["payload"]["cmd"].as_str().unwrap();

    match cmd {
        "store" => {
            let path = args["payload"]["path"].as_str().unwrap().to_string();
            let bytes = serde_json::to_vec(&args).unwrap();

            abi::set_storage_file(&path, &bytes).unwrap();
        }

        _ => panic!("unknown entrypoint command"),
    }

    Ok(args)
}

#[test]
fn verification_long_string_works() {
    use serde_json::Value;

    use crate::WithdrawRequest;

    /*
      Obtained by running:
      curl -X POST \
        -H "Content-Type: application/json" \
        https://service.coprocessor.valence.zone/api/registry/controller/2697a88292b36398ac708d46e3a4426255a784e25de02ef80f1d35bd3928f13b/witnesses \
        -d '{
            "args": {"withdraw_request_id": 0},
            "payload": {"cmd": "store", "path": "/var/share/keyne.bin"}
    }'

    and taking the state proof from the logs
    */
    let state_proof = r#"{"domain":[140,170,233,181,76,169,105,219,112,139,157,132,161,115,221,142,45,77,190,102,99,28,224,159,255,34,6,114,102,85,229,198],"number":23125270,"state_root":[72,45,100,88,195,53,202,33,131,191,188,231,90,168,205,21,132,172,74,243,241,224,63,153,223,59,108,103,182,232,106,29],"payload":[],"proof":[72,45,100,88,204,195,53,204,202,33,204,131,204,191,204,188,204,231,90,204,168,204,205,21,204,132,204,172,74,204,243,204,241,204,224,63,204,153,204,223,59,108,103,204,182,204,232,106,29,196,20,159,229,185,199,221,189,38,208,220,147,99,78,21,235,26,93,52,200,84,147,1,0,111,204,128,90,204,186,204,244,204,228,37,34,204,169,116,77,47,204,196,204,212,204,159,112,204,211,204,179,116,71,204,197,55,204,165,18,49,204,198,204,164,204,147,108,12,204,192,204,174,64,204,145,204,175,204,171,47,204,251,91,204,182,91,204,250,204,212,204,143,111,204,162,61,204,156,204,204,4,204,129,204,204,204,168,105,33,2,204,223,103,116,204,130,9,61,113,105,153,197,2,20,249,2,17,160,237,219,33,31,64,160,152,242,78,35,5,90,169,27,102,243,149,207,8,14,105,236,0,176,61,161,53,109,149,250,109,31,160,10,176,79,103,188,236,95,214,255,6,113,21,31,48,213,84,212,209,242,5,122,183,58,110,55,183,164,25,251,5,21,136,160,152,222,93,138,204,54,229,42,0,141,166,65,175,50,243,19,52,195,122,83,36,234,239,7,12,149,111,162,239,85,166,37,160,236,6,190,160,251,137,111,118,47,179,102,83,9,64,82,67,23,231,61,42,244,60,122,160,23,203,171,159,233,204,176,124,160,38,4,167,116,160,181,73,149,222,89,192,111,73,178,126,78,189,179,187,192,1,19,252,13,3,38,148,70,210,236,143,191,160,229,125,45,130,80,145,14,212,84,182,154,195,90,230,28,172,5,230,117,43,237,170,2,4,194,178,255,45,139,132,225,30,160,60,73,188,46,166,218,57,98,96,29,214,220,93,183,97,206,83,175,150,231,74,74,168,173,240,165,90,73,86,21,83,82,160,112,204,124,176,70,231,33,195,56,46,40,27,195,178,10,244,2,164,250,173,109,113,20,28,135,158,219,214,147,226,73,205,160,163,76,17,230,111,192,92,153,0,190,110,212,148,27,247,211,4,144,22,254,121,120,194,63,227,77,125,46,80,209,186,214,160,189,111,156,253,144,165,15,58,50,103,149,116,181,210,66,42,179,90,128,42,244,9,108,239,209,18,141,225,255,58,16,98,160,134,55,40,209,238,211,39,207,188,141,177,176,11,6,181,249,217,89,6,71,195,126,43,30,54,118,196,221,243,235,171,234,160,106,82,165,24,80,181,11,123,6,118,160,115,16,116,160,147,244,33,42,167,237,174,80,70,70,126,225,53,82,118,179,99,160,87,98,244,168,77,93,243,67,24,158,200,221,52,182,47,197,127,56,242,198,233,45,247,166,209,104,128,216,26,60,31,6,160,26,255,95,220,155,13,253,94,52,212,190,215,103,115,97,2,197,112,151,250,186,129,196,192,78,11,105,38,205,72,55,66,160,120,140,167,201,191,142,194,35,65,99,140,203,11,72,50,42,178,83,245,117,217,48,80,133,146,16,29,200,147,93,181,170,160,177,31,150,93,68,66,68,27,213,89,29,35,92,243,97,108,248,66,94,124,10,76,160,38,50,47,176,104,210,26,221,252,128,197,2,20,249,2,17,160,152,215,65,120,234,28,4,103,160,174,129,73,186,113,90,180,146,226,251,194,215,143,30,88,215,54,119,142,152,125,237,41,160,210,194,151,137,159,130,47,250,58,64,59,30,234,96,116,63,157,113,207,97,167,98,174,182,66,242,152,77,195,145,82,76,160,177,244,57,135,22,40,128,63,184,90,183,119,80,212,53,152,248,161,36,16,171,189,33,6,198,48,229,205,169,186,37,40,160,107,74,30,67,254,156,242,70,18,210,82,220,177,16,25,231,86,61,187,31,226,170,134,120,25,235,28,214,55,166,251,38,160,35,77,186,228,188,144,230,14,147,110,136,136,223,65,63,201,185,225,166,128,221,25,69,8,151,127,55,116,40,253,230,29,160,129,252,125,84,199,7,49,200,66,188,239,248,166,95,204,56,249,82,39,238,149,181,6,114,69,221,254,146,160,215,254,205,160,58,186,183,6,235,238,73,193,97,112,203,63,5,223,88,233,29,67,120,149,3,23,160,111,50,8,36,69,150,95,174,171,160,119,80,11,92,224,52,134,111,207,79,136,158,87,195,87,123,13,177,35,198,248,171,80,175,10,141,180,244,203,121,94,3,160,163,35,36,161,105,28,219,117,211,190,55,83,148,24,204,156,33,84,120,1,215,250,156,140,163,178,221,15,95,214,126,19,160,194,3,121,135,12,119,92,85,141,251,61,195,229,188,72,184,102,202,182,212,23,13,160,89,146,45,120,197,122,81,71,170,160,34,89,11,190,45,251,202,135,131,143,138,146,36,136,61,228,88,120,2,145,172,253,202,91,173,245,90,145,104,66,10,8,160,171,105,23,49,235,201,18,205,85,214,219,159,215,106,12,16,165,88,79,149,193,51,21,57,98,224,154,142,105,143,46,4,160,170,160,7,247,19,40,141,210,54,27,161,231,236,39,142,136,79,199,51,157,172,175,255,93,134,170,90,6,21,19,1,217,160,241,144,80,96,77,14,250,234,255,163,8,202,146,121,209,253,36,16,70,67,224,84,80,83,239,217,150,8,27,43,79,49,160,94,202,185,188,159,254,191,171,247,135,217,229,209,165,127,160,131,10,231,28,141,202,138,127,74,152,191,181,154,154,182,56,160,34,88,93,123,80,53,228,189,203,143,159,21,115,163,222,172,254,178,72,24,70,150,209,249,27,173,50,149,42,37,53,95,128,197,2,20,249,2,17,160,214,151,0,134,75,179,239,174,72,235,14,102,0,35,134,32,29,127,105,153,17,70,15,33,30,23,46,102,172,87,106,235,160,148,157,189,29,241,70,100,94,215,152,231,54,102,174,96,158,43,193,179,28,242,87,49,229,157,8,29,212,96,16,237,231,160,132,88,52,198,67,45,192,213,204,20,241,235,164,137,13,214,38,174,38,193,138,198,96,32,82,43,255,54,185,100,241,250,160,100,101,41,239,88,190,187,48,216,118,148,24,6,194,83,193,236,113,191,103,102,122,18,224,32,106,166,73,123,19,107,15,160,124,80,135,144,166,28,167,35,59,171,35,37,27,21,89,142,160,74,42,188,146,88,37,253,177,18,168,35,181,226,157,138,160,235,131,167,121,32,234,60,179,56,92,240,109,38,51,131,102,102,136,139,167,141,4,206,174,164,176,218,251,22,196,104,247,160,184,220,151,7,214,234,132,100,241,188,143,189,120,208,104,162,198,175,22,213,223,207,139,190,111,160,93,25,118,41,245,40,160,137,184,17,74,43,7,238,45,154,82,204,7,129,67,181,111,135,90,124,56,167,169,119,14,247,101,110,134,33,67,73,26,160,121,128,143,169,155,102,143,35,171,28,3,114,236,46,64,219,218,109,17,147,124,129,164,207,226,239,44,10,230,101,108,223,160,148,117,218,120,42,254,44,225,62,134,201,177,32,235,72,191,43,139,52,200,4,10,95,156,10,0,224,56,148,34,140,208,160,228,130,62,86,112,11,25,71,241,142,176,135,6,208,101,41,202,218,248,126,111,221,24,73,241,238,146,36,234,6,6,161,160,158,157,84,181,102,207,32,157,60,24,122,132,25,93,46,122,100,209,147,124,33,142,96,208,172,237,69,101,253,190,4,78,160,170,5,54,63,236,168,22,196,50,17,233,88,219,163,241,124,204,83,56,52,4,129,160,189,210,8,50,110,112,11,159,16,160,178,176,192,47,50,225,12,37,176,13,187,25,144,12,223,157,193,65,109,6,158,74,176,242,158,228,66,224,187,113,236,171,160,7,86,82,72,181,26,80,68,191,3,66,117,110,127,231,57,181,220,111,2,159,250,25,240,154,43,122,30,7,180,13,44,160,180,182,98,76,125,50,0,87,6,49,88,122,212,112,2,72,124,120,115,206,178,14,27,179,227,42,21,249,70,98,124,135,128,197,2,20,249,2,17,160,79,186,104,96,250,53,150,49,38,183,124,158,79,53,224,187,8,2,88,176,213,162,195,43,27,125,200,169,52,7,79,130,160,230,52,40,65,89,150,208,31,250,248,178,152,137,169,214,189,31,194,19,184,36,252,116,1,91,76,21,170,121,166,101,196,160,47,4,70,100,134,153,195,110,236,86,180,90,160,254,162,61,87,255,122,247,145,207,45,101,235,51,20,153,207,30,78,131,160,57,127,127,65,46,187,227,153,240,123,208,114,94,39,236,227,69,184,217,235,163,64,245,10,3,84,82,201,149,232,228,219,160,236,125,57,10,108,60,10,134,34,135,248,36,238,21,31,209,122,187,176,121,68,225,117,184,69,75,22,183,231,104,84,169,160,39,149,174,126,163,27,156,135,89,62,248,226,1,70,210,63,165,68,20,158,33,14,66,193,157,223,158,229,56,35,231,76,160,166,222,58,36,185,196,65,22,23,229,14,207,248,239,211,17,8,9,47,77,45,168,141,138,234,245,193,229,87,226,0,250,160,123,132,238,183,73,221,133,60,63,111,156,40,32,52,186,140,181,82,149,74,128,89,65,248,128,70,91,47,250,175,144,224,160,34,107,22,111,46,151,213,28,104,23,49,140,165,7,216,37,151,138,53,83,230,73,64,250,253,83,67,103,166,160,134,14,160,7,101,101,83,206,248,192,162,169,254,229,1,119,240,73,193,221,135,52,238,2,134,198,251,2,232,52,255,114,2,236,202,160,66,83,121,67,204,198,136,189,112,251,182,239,112,188,6,55,152,6,13,69,41,121,148,143,158,209,48,198,213,60,40,8,160,159,164,65,83,117,30,243,164,166,0,30,134,121,101,60,172,106,119,70,157,113,17,188,107,149,32,181,175,203,104,4,60,160,36,92,125,203,251,95,71,159,254,190,182,74,188,180,54,155,161,172,198,185,127,217,152,35,111,34,250,237,204,102,252,118,160,245,2,220,80,230,21,217,23,77,193,165,138,165,251,134,46,76,53,60,184,76,113,246,110,116,101,153,123,159,215,204,188,160,107,67,203,129,202,40,245,16,64,6,45,164,28,174,62,204,45,92,119,125,89,106,207,250,57,66,187,154,249,166,135,141,160,25,244,227,4,6,234,167,199,83,142,201,238,64,6,235,123,208,82,148,162,251,221,73,71,205,47,81,38,135,30,4,147,128,197,2,20,249,2,17,160,124,91,2,201,132,246,170,140,140,174,213,95,174,137,172,19,196,100,50,229,235,9,242,245,170,173,188,240,172,97,145,58,160,24,170,171,194,191,243,140,131,250,91,57,254,254,159,92,213,168,16,78,195,91,207,223,52,152,122,24,241,107,154,108,235,160,216,21,218,244,246,250,160,46,50,131,127,149,90,38,119,114,1,206,102,244,27,157,133,253,234,248,75,151,247,26,118,43,160,162,146,216,64,92,100,223,122,8,6,122,219,40,162,0,86,178,15,113,98,26,222,183,95,62,227,92,149,220,73,59,35,160,237,243,209,161,66,183,104,60,204,158,1,204,1,72,186,11,99,171,241,182,198,243,63,240,115,125,152,36,231,90,242,27,160,248,91,243,65,134,114,180,90,84,95,231,59,24,84,158,74,172,12,253,16,108,250,97,158,106,18,133,23,166,111,136,95,160,159,150,210,113,76,179,128,206,89,49,92,222,195,116,148,229,233,115,25,68,91,95,254,232,192,29,103,196,218,184,243,126,160,94,80,191,89,221,182,40,195,28,163,47,131,58,66,49,34,167,218,228,48,34,5,146,5,59,159,72,85,112,16,189,253,160,233,80,125,108,5,75,49,97,219,44,152,15,137,244,159,88,35,222,163,135,151,118,248,78,193,251,207,249,217,113,183,75,160,71,3,215,150,241,178,104,56,148,37,135,83,98,46,160,45,219,78,156,32,50,113,76,18,172,116,139,225,55,124,237,177,160,122,16,1,44,15,13,175,49,96,217,234,209,53,75,132,232,248,222,32,196,182,219,180,235,156,4,230,87,219,246,231,53,160,236,183,184,90,19,136,223,9,61,178,199,36,118,194,62,27,205,125,98,140,119,225,116,103,9,65,121,89,80,51,103,196,160,221,127,170,84,139,130,202,232,10,39,215,157,13,195,74,66,195,107,195,104,234,232,118,196,85,128,119,73,185,12,192,132,160,231,123,182,167,248,40,12,153,18,199,44,107,95,213,16,57,65,105,61,228,147,129,64,207,97,6,172,238,38,27,176,232,160,109,106,40,8,190,54,190,128,225,21,71,152,62,61,214,183,254,126,255,228,71,128,42,238,200,164,16,146,140,177,232,155,160,202,164,78,82,87,121,80,10,80,253,77,16,135,16,123,249,198,57,73,119,237,61,146,19,205,77,254,224,40,43,45,63,128,197,2,20,249,2,17,160,137,232,168,23,249,86,9,0,18,18,167,125,15,185,71,160,235,236,1,164,36,209,167,130,210,254,64,39,212,189,222,116,160,251,58,155,193,87,234,92,164,210,13,224,240,155,177,200,148,81,178,90,156,109,252,164,82,167,24,218,164,159,89,57,129,160,147,54,143,70,64,37,214,125,104,155,254,148,114,92,188,29,145,226,218,93,17,201,0,82,131,8,167,128,185,152,134,222,160,132,110,109,187,112,180,194,207,138,139,236,163,222,89,169,165,132,178,154,210,48,135,182,245,31,103,219,98,104,126,22,91,160,89,153,60,251,118,230,163,239,0,63,98,6,106,202,160,92,189,28,15,154,249,105,109,90,37,24,176,62,236,219,54,146,160,131,154,14,68,145,51,42,107,184,120,36,235,179,255,237,242,15,70,245,191,92,136,92,2,112,43,105,171,113,84,222,120,160,234,58,197,170,92,239,67,206,128,70,172,221,37,251,123,234,212,70,188,31,53,29,254,3,184,2,129,31,67,208,27,112,160,118,89,76,50,170,251,75,242,173,198,30,104,161,39,218,63,30,133,244,96,194,167,228,112,23,197,199,217,132,207,232,190,160,71,124,222,71,85,3,40,133,155,65,15,210,163,128,36,236,192,65,185,191,220,94,251,204,61,34,182,110,147,225,124,136,160,108,254,239,71,47,121,80,119,23,245,199,47,126,235,71,140,141,12,220,114,196,16,138,134,48,148,162,35,138,53,136,203,160,237,162,6,12,101,170,175,199,126,138,54,232,253,204,53,244,136,83,61,59,121,246,149,7,103,2,17,28,4,227,184,73,160,193,10,197,176,121,106,53,113,149,108,133,170,144,231,65,207,111,0,99,75,255,157,98,209,34,13,136,244,63,77,60,131,160,86,238,197,97,53,22,20,82,93,70,207,184,116,78,250,50,227,23,35,222,206,215,172,109,243,71,195,86,75,118,191,107,160,191,202,177,157,240,113,114,1,194,194,12,64,57,23,95,133,216,53,178,121,186,42,194,201,57,123,155,180,159,228,204,91,160,26,112,97,79,63,11,81,52,235,16,98,101,74,55,138,206,187,156,18,226,65,192,172,108,15,223,124,183,109,193,96,248,160,134,177,79,25,26,147,132,91,62,63,109,19,97,92,41,255,197,166,164,190,255,230,208,174,36,18,37,65,110,142,43,33,128,197,1,148,249,1,145,128,160,185,145,255,146,142,223,175,134,197,116,57,193,132,53,97,13,50,222,69,30,227,254,67,150,112,203,228,223,185,254,241,63,160,56,147,26,243,15,24,42,171,146,120,180,91,217,89,113,109,180,123,233,152,89,216,99,174,199,209,114,89,150,66,238,101,128,160,110,219,6,25,183,143,240,220,104,227,155,170,183,101,10,112,226,162,18,243,13,236,29,243,233,197,80,123,157,78,71,167,160,142,118,254,49,166,114,177,68,226,144,163,84,39,121,171,112,131,23,157,69,227,240,124,90,63,187,26,10,186,31,174,23,160,100,96,2,245,158,84,13,38,216,153,114,243,99,170,115,109,95,234,246,27,152,250,32,112,126,73,4,78,192,101,219,252,160,243,190,64,145,114,11,58,66,58,102,134,94,185,195,172,209,197,73,211,53,132,221,162,55,82,76,115,101,214,35,121,77,128,160,101,34,12,169,205,48,43,98,180,254,23,119,169,149,107,201,255,185,182,217,90,66,10,145,194,87,198,17,95,74,236,136,160,220,121,25,75,202,115,252,169,215,176,239,25,169,30,53,72,148,249,142,246,45,113,99,237,44,155,219,2,73,73,168,77,160,101,237,170,48,105,42,247,72,74,148,149,121,69,150,172,151,91,29,181,181,111,174,200,216,104,178,133,95,254,201,32,234,160,193,24,68,16,109,21,197,0,73,133,85,116,40,51,33,158,6,76,227,197,246,253,211,35,108,144,50,68,196,235,206,175,160,126,93,160,120,241,94,26,110,58,87,102,67,109,175,76,160,12,222,119,166,149,5,128,203,100,172,233,185,124,168,64,195,128,160,47,190,233,248,11,148,207,246,178,175,77,155,7,233,137,101,4,121,186,196,154,135,55,5,191,95,31,110,179,65,57,72,128,196,83,248,81,128,128,128,128,128,128,128,128,128,128,128,160,132,92,59,148,248,84,70,188,183,196,100,63,244,118,44,219,251,76,61,9,107,208,144,185,81,127,91,62,16,101,128,233,160,77,156,7,35,117,94,81,242,47,187,85,206,66,206,178,148,48,174,102,20,124,12,235,76,142,154,208,142,51,33,246,27,128,128,128,128,196,104,248,102,157,32,121,221,238,204,105,179,222,100,174,149,146,40,17,28,185,83,14,5,128,35,122,183,43,142,251,53,185,24,184,70,248,68,1,128,160,111,128,90,186,244,228,37,34,169,116,77,47,196,212,159,112,211,179,116,71,197,55,165,18,49,198,164,147,108,12,192,174,160,64,145,175,171,47,251,91,182,91,250,212,143,111,162,61,156,204,4,129,204,168,105,33,2,223,103,116,130,9,61,113,105,150,196,32,19,218,134,0,139,161,198,146,45,174,227,224,125,185,83,5,239,73,235,206,217,245,70,122,11,134,19,252,198,179,67,227,196,29,156,81,12,74,29,99,127,243,116,57,152,38,244,33,0,59,119,93,195,232,220,0,0,0,0,0,0,0,0,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,179,248,177,128,128,160,87,209,124,195,182,169,224,156,159,172,172,91,31,209,147,184,253,205,215,158,135,167,86,149,180,239,195,8,248,91,132,78,128,128,160,112,116,110,32,33,128,87,136,24,208,63,33,133,51,106,58,25,2,161,180,139,7,214,229,26,33,0,68,76,52,140,151,128,128,128,160,31,222,208,213,147,177,188,157,42,204,87,211,247,239,56,44,93,173,28,35,58,78,89,82,103,226,133,167,115,79,242,131,160,253,61,148,52,237,239,233,13,248,95,146,70,66,127,67,123,127,228,228,49,255,2,209,188,114,105,97,251,8,105,214,36,128,128,160,232,44,252,55,111,151,23,67,170,44,252,254,27,62,135,136,72,56,155,151,199,67,39,209,203,4,80,7,74,95,75,201,128,128,128,196,65,248,63,160,32,58,11,151,44,71,15,24,248,66,195,92,113,47,155,155,234,172,30,142,131,140,27,164,145,208,212,120,144,14,129,202,157,156,81,12,74,29,99,127,243,116,57,152,38,244,33,0,59,119,93,195,232,220,0,0,0,0,0,0,0,0,196,32,19,218,134,0,139,161,198,146,45,174,227,224,125,185,83,5,239,73,235,206,217,245,70,122,11,134,19,252,198,179,67,228,196,5,132,4,158,136,160,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,243,248,241,160,140,228,2,235,244,214,249,135,96,131,247,100,123,60,26,73,62,44,25,14,122,54,60,130,133,227,100,254,126,208,71,28,128,128,128,128,128,160,249,97,216,72,227,105,51,237,222,91,42,113,127,254,152,111,39,95,237,218,8,184,85,92,6,187,65,171,129,90,160,19,160,122,8,66,8,90,146,51,158,7,196,243,210,255,59,112,119,192,255,108,228,115,79,191,161,192,94,174,173,98,5,175,66,128,160,164,211,118,232,160,57,139,81,94,69,40,38,241,227,214,52,254,115,247,235,187,144,16,79,23,24,89,48,37,2,53,218,160,212,143,41,113,154,230,78,203,81,164,178,129,203,141,192,161,88,246,238,160,249,39,68,215,136,254,240,77,130,59,106,218,128,160,72,125,242,226,19,12,48,186,41,206,127,107,211,95,109,148,33,149,170,15,196,221,76,182,25,141,215,220,105,23,115,244,128,160,74,134,26,78,60,158,127,42,234,253,20,198,187,237,159,44,82,74,51,228,38,67,128,55,21,61,149,205,145,75,237,4,128,128,196,40,231,160,32,32,89,7,44,55,128,192,168,40,161,96,171,141,131,114,59,244,140,18,1,91,236,67,177,56,249,113,7,253,188,72,133,132,4,158,136,160,196,32,19,218,134,0,139,161,198,146,45,174,227,224,125,185,83,5,239,73,235,206,217,245,70,122,11,134,19,252,198,179,67,229,196,3,130,38,171,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,197,1,84,249,1,81,160,234,236,248,204,85,224,143,251,147,33,179,115,194,162,246,17,113,226,223,165,3,78,75,127,114,109,222,50,2,216,50,59,128,160,94,117,70,219,54,148,234,22,148,210,164,1,21,74,181,25,109,215,247,77,228,166,250,92,123,172,4,61,158,196,53,13,160,104,164,233,125,46,69,133,153,198,105,199,107,85,161,186,40,43,51,206,211,175,190,179,135,211,195,19,223,202,129,120,101,160,191,108,163,12,192,22,184,180,247,33,57,53,239,66,221,218,143,13,24,167,110,66,27,19,86,200,119,82,95,231,37,37,160,188,98,49,86,202,233,171,190,76,42,96,116,160,109,75,137,36,145,104,23,47,48,225,46,101,61,110,233,60,189,222,249,128,160,168,57,48,225,149,218,67,130,134,187,203,227,17,178,76,150,140,143,204,219,156,113,32,150,222,228,197,148,59,104,123,42,160,222,40,130,222,141,137,143,150,61,95,181,4,180,66,205,117,20,130,199,21,37,21,22,67,197,89,229,200,83,66,226,11,128,160,9,162,104,73,157,202,172,34,81,76,14,3,133,12,78,128,104,175,199,242,92,22,88,172,58,245,92,225,97,84,26,44,160,147,61,218,20,22,156,0,218,184,108,13,3,81,253,153,191,74,204,25,81,131,95,254,177,76,222,223,158,108,178,243,115,128,128,160,104,105,122,218,238,177,9,54,108,49,22,68,204,189,60,9,64,143,78,165,42,143,94,119,165,230,240,111,150,86,232,171,128,128,196,38,229,160,32,60,215,6,105,221,112,146,174,20,147,82,143,226,127,42,41,197,112,235,88,102,30,83,58,229,20,44,39,106,202,234,131,130,38,171,196,32,19,218,134,0,139,161,198,146,45,174,227,224,125,185,83,5,239,73,235,206,217,245,70,122,11,134,19,252,198,179,67,230,196,1,93,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,243,248,241,128,160,101,95,54,206,209,35,246,229,42,155,124,61,192,138,140,89,0,153,98,226,230,172,86,54,67,56,120,204,84,223,110,122,128,160,84,18,63,60,113,33,107,233,221,157,151,134,66,94,182,210,225,84,214,59,27,156,90,152,90,19,150,1,169,213,254,61,160,109,47,71,79,58,88,206,235,100,159,247,15,236,144,119,18,191,186,165,104,75,193,16,38,215,85,167,152,255,118,119,246,160,159,104,182,99,213,148,203,135,185,20,250,156,98,70,140,142,213,217,5,96,54,226,162,66,178,200,107,217,119,46,114,130,128,160,227,65,139,77,166,13,215,140,104,210,109,164,95,218,23,100,143,160,85,40,95,96,22,157,13,117,58,86,235,29,188,35,128,128,160,115,44,168,36,121,158,197,173,76,204,37,251,136,230,228,130,136,121,147,243,222,55,152,247,74,120,97,150,142,5,37,136,160,202,219,125,244,137,164,255,74,112,55,116,191,241,36,187,67,60,81,60,29,10,33,247,248,252,1,188,236,44,155,157,206,128,128,128,128,128,196,35,226,160,32,90,133,11,211,234,166,1,150,51,208,245,200,167,140,108,12,13,224,77,56,179,251,49,96,175,142,27,117,14,5,105,93,196,32,179,90,133,11,211,234,166,1,150,51,208,245,200,167,140,108,12,13,224,77,56,179,251,49,96,175,142,27,117,14,5,105,196,33,160,110,101,117,116,114,111,110,49,122,56,113,106,115,109,116,106,120,99,100,51,54,106,48,108,97,50,114,115,50,114,102,115,148,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,197,1,84,249,1,81,160,234,236,248,204,85,224,143,251,147,33,179,115,194,162,246,17,113,226,223,165,3,78,75,127,114,109,222,50,2,216,50,59,128,160,94,117,70,219,54,148,234,22,148,210,164,1,21,74,181,25,109,215,247,77,228,166,250,92,123,172,4,61,158,196,53,13,160,104,164,233,125,46,69,133,153,198,105,199,107,85,161,186,40,43,51,206,211,175,190,179,135,211,195,19,223,202,129,120,101,160,191,108,163,12,192,22,184,180,247,33,57,53,239,66,221,218,143,13,24,167,110,66,27,19,86,200,119,82,95,231,37,37,160,188,98,49,86,202,233,171,190,76,42,96,116,160,109,75,137,36,145,104,23,47,48,225,46,101,61,110,233,60,189,222,249,128,160,168,57,48,225,149,218,67,130,134,187,203,227,17,178,76,150,140,143,204,219,156,113,32,150,222,228,197,148,59,104,123,42,160,222,40,130,222,141,137,143,150,61,95,181,4,180,66,205,117,20,130,199,21,37,21,22,67,197,89,229,200,83,66,226,11,128,160,9,162,104,73,157,202,172,34,81,76,14,3,133,12,78,128,104,175,199,242,92,22,88,172,58,245,92,225,97,84,26,44,160,147,61,218,20,22,156,0,218,184,108,13,3,81,253,153,191,74,204,25,81,131,95,254,177,76,222,223,158,108,178,243,115,128,128,160,104,105,122,218,238,177,9,54,108,49,22,68,204,189,60,9,64,143,78,165,42,143,94,119,165,230,240,111,150,86,232,171,128,128,196,83,248,81,128,128,128,128,160,180,13,18,75,88,245,90,67,8,242,23,9,53,88,36,218,191,224,151,227,162,211,86,132,21,142,93,65,223,34,77,141,128,128,128,128,128,128,160,128,215,232,87,49,161,169,104,86,62,48,78,163,42,198,192,139,246,49,14,255,213,103,105,138,232,64,211,51,98,30,18,128,128,128,128,128,196,68,248,66,159,53,81,198,116,29,237,183,207,217,48,170,210,141,47,29,170,41,93,15,237,173,235,17,118,234,144,180,61,56,49,94,161,160,110,101,117,116,114,111,110,49,122,56,113,106,115,109,116,106,120,99,100,51,54,106,48,108,97,50,114,115,50,114,102,115,196,32,179,90,133,11,211,234,166,1,150,51,208,245,200,167,140,108,12,13,224,77,56,179,251,49,96,175,142,27,117,14,5,106,196,33,160,116,102,53,110,120,109,97,100,121,50,104,120,56,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,197,1,116,249,1,113,128,160,81,15,207,113,50,109,152,169,197,185,164,95,100,7,220,60,230,149,157,14,16,139,180,50,206,44,42,254,57,169,144,225,160,46,112,210,242,210,55,6,217,192,87,11,144,47,244,89,55,130,46,226,218,92,66,184,204,31,23,116,171,23,5,41,182,160,11,245,217,20,78,232,142,102,185,232,55,17,41,90,225,193,241,177,100,164,173,16,155,44,215,47,77,9,254,69,134,8,160,31,249,158,83,54,198,239,178,140,205,208,99,208,67,182,108,81,107,216,7,173,136,202,9,43,20,215,225,227,114,230,134,160,165,245,94,216,253,114,30,42,220,49,33,155,21,164,191,182,199,146,147,252,95,252,10,70,205,94,29,101,43,214,255,155,160,34,246,123,68,84,27,25,179,150,21,153,79,27,2,158,109,55,10,36,166,135,180,23,123,80,184,28,184,140,44,189,218,128,128,128,160,193,38,203,138,83,114,109,243,51,231,163,213,57,82,78,141,229,89,95,8,158,175,209,35,81,29,142,197,231,250,236,116,160,1,8,4,114,34,70,136,57,74,21,37,33,27,18,246,161,252,97,143,4,106,30,209,205,136,178,0,92,176,245,182,76,128,160,131,234,201,232,31,154,220,11,151,118,55,194,220,197,110,184,28,219,112,184,222,183,191,55,155,241,49,214,202,32,244,79,160,249,44,192,92,176,34,210,229,25,149,81,220,206,190,238,47,17,119,96,105,17,103,212,191,230,33,26,137,230,131,86,210,160,55,25,155,138,162,2,211,66,43,16,97,161,183,112,150,20,203,198,229,124,155,74,167,165,52,87,45,149,78,50,250,195,128,196,69,248,67,160,32,16,5,110,167,101,87,17,167,121,249,231,18,90,136,87,68,87,203,194,225,36,233,217,233,253,63,188,225,117,60,184,161,160,116,102,53,110,120,109,97,100,121,50,104,120,56,97,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}"#;

    let data = r#"{
        "withdraw": {
            "id": 0,
            "owner": "0x510c4a1d637ff374399826f421003b775dc3e8dc",
            "receiver": "neutron1z8qjsmtjxcd36j0la2rs2rfstf5nxmady2hx8a",
            "redemptionRate": "0x49e88a0",
            "sharesAmount": "0x26ab"
        }
    }"#;

    let data: Value = serde_json::from_str(data).unwrap();

    let withdraw = data["withdraw"].clone();
    let withdraw: WithdrawRequest = serde_json::from_value(withdraw).unwrap();

    let state_proof: StateProof = serde_json::from_str(state_proof).unwrap();

    clearing_queue_core::verify_proof(&state_proof, &withdraw).unwrap();
}

#[test]
fn verification_short_invalid_string_works() {
    use serde_json::Value;

    use crate::WithdrawRequest;

    /*
      Obtained by running:
      curl -X POST \
        -H "Content-Type: application/json" \
        https://service.coprocessor.valence.zone/api/registry/controller/2697a88292b36398ac708d46e3a4426255a784e25de02ef80f1d35bd3928f13b/witnesses \
        -d '{
            "args": {"withdraw_request_id": 6},
            "payload": {"cmd": "store", "path": "/var/share/keyne.bin"}
    }'

    and taking the state proof from the logs
    */

    let state_proof = r#"{"domain":[140,170,233,181,76,169,105,219,112,139,157,132,161,115,221,142,45,77,190,102,99,28,224,159,255,34,6,114,102,85,229,198],"number":23125270,"state_root":[72,45,100,88,195,53,202,33,131,191,188,231,90,168,205,21,132,172,74,243,241,224,63,153,223,59,108,103,182,232,106,29],"payload":[],"proof":[72,45,100,88,204,195,53,204,202,33,204,131,204,191,204,188,204,231,90,204,168,204,205,21,204,132,204,172,74,204,243,204,241,204,224,63,204,153,204,223,59,108,103,204,182,204,232,106,29,196,20,159,229,185,199,221,189,38,208,220,147,99,78,21,235,26,93,52,200,84,147,1,0,111,204,128,90,204,186,204,244,204,228,37,34,204,169,116,77,47,204,196,204,212,204,159,112,204,211,204,179,116,71,204,197,55,204,165,18,49,204,198,204,164,204,147,108,12,204,192,204,174,64,204,145,204,175,204,171,47,204,251,91,204,182,91,204,250,204,212,204,143,111,204,162,61,204,156,204,204,4,204,129,204,204,204,168,105,33,2,204,223,103,116,204,130,9,61,113,105,153,197,2,20,249,2,17,160,237,219,33,31,64,160,152,242,78,35,5,90,169,27,102,243,149,207,8,14,105,236,0,176,61,161,53,109,149,250,109,31,160,10,176,79,103,188,236,95,214,255,6,113,21,31,48,213,84,212,209,242,5,122,183,58,110,55,183,164,25,251,5,21,136,160,152,222,93,138,204,54,229,42,0,141,166,65,175,50,243,19,52,195,122,83,36,234,239,7,12,149,111,162,239,85,166,37,160,236,6,190,160,251,137,111,118,47,179,102,83,9,64,82,67,23,231,61,42,244,60,122,160,23,203,171,159,233,204,176,124,160,38,4,167,116,160,181,73,149,222,89,192,111,73,178,126,78,189,179,187,192,1,19,252,13,3,38,148,70,210,236,143,191,160,229,125,45,130,80,145,14,212,84,182,154,195,90,230,28,172,5,230,117,43,237,170,2,4,194,178,255,45,139,132,225,30,160,60,73,188,46,166,218,57,98,96,29,214,220,93,183,97,206,83,175,150,231,74,74,168,173,240,165,90,73,86,21,83,82,160,112,204,124,176,70,231,33,195,56,46,40,27,195,178,10,244,2,164,250,173,109,113,20,28,135,158,219,214,147,226,73,205,160,163,76,17,230,111,192,92,153,0,190,110,212,148,27,247,211,4,144,22,254,121,120,194,63,227,77,125,46,80,209,186,214,160,189,111,156,253,144,165,15,58,50,103,149,116,181,210,66,42,179,90,128,42,244,9,108,239,209,18,141,225,255,58,16,98,160,134,55,40,209,238,211,39,207,188,141,177,176,11,6,181,249,217,89,6,71,195,126,43,30,54,118,196,221,243,235,171,234,160,106,82,165,24,80,181,11,123,6,118,160,115,16,116,160,147,244,33,42,167,237,174,80,70,70,126,225,53,82,118,179,99,160,87,98,244,168,77,93,243,67,24,158,200,221,52,182,47,197,127,56,242,198,233,45,247,166,209,104,128,216,26,60,31,6,160,26,255,95,220,155,13,253,94,52,212,190,215,103,115,97,2,197,112,151,250,186,129,196,192,78,11,105,38,205,72,55,66,160,120,140,167,201,191,142,194,35,65,99,140,203,11,72,50,42,178,83,245,117,217,48,80,133,146,16,29,200,147,93,181,170,160,177,31,150,93,68,66,68,27,213,89,29,35,92,243,97,108,248,66,94,124,10,76,160,38,50,47,176,104,210,26,221,252,128,197,2,20,249,2,17,160,152,215,65,120,234,28,4,103,160,174,129,73,186,113,90,180,146,226,251,194,215,143,30,88,215,54,119,142,152,125,237,41,160,210,194,151,137,159,130,47,250,58,64,59,30,234,96,116,63,157,113,207,97,167,98,174,182,66,242,152,77,195,145,82,76,160,177,244,57,135,22,40,128,63,184,90,183,119,80,212,53,152,248,161,36,16,171,189,33,6,198,48,229,205,169,186,37,40,160,107,74,30,67,254,156,242,70,18,210,82,220,177,16,25,231,86,61,187,31,226,170,134,120,25,235,28,214,55,166,251,38,160,35,77,186,228,188,144,230,14,147,110,136,136,223,65,63,201,185,225,166,128,221,25,69,8,151,127,55,116,40,253,230,29,160,129,252,125,84,199,7,49,200,66,188,239,248,166,95,204,56,249,82,39,238,149,181,6,114,69,221,254,146,160,215,254,205,160,58,186,183,6,235,238,73,193,97,112,203,63,5,223,88,233,29,67,120,149,3,23,160,111,50,8,36,69,150,95,174,171,160,119,80,11,92,224,52,134,111,207,79,136,158,87,195,87,123,13,177,35,198,248,171,80,175,10,141,180,244,203,121,94,3,160,163,35,36,161,105,28,219,117,211,190,55,83,148,24,204,156,33,84,120,1,215,250,156,140,163,178,221,15,95,214,126,19,160,194,3,121,135,12,119,92,85,141,251,61,195,229,188,72,184,102,202,182,212,23,13,160,89,146,45,120,197,122,81,71,170,160,34,89,11,190,45,251,202,135,131,143,138,146,36,136,61,228,88,120,2,145,172,253,202,91,173,245,90,145,104,66,10,8,160,171,105,23,49,235,201,18,205,85,214,219,159,215,106,12,16,165,88,79,149,193,51,21,57,98,224,154,142,105,143,46,4,160,170,160,7,247,19,40,141,210,54,27,161,231,236,39,142,136,79,199,51,157,172,175,255,93,134,170,90,6,21,19,1,217,160,241,144,80,96,77,14,250,234,255,163,8,202,146,121,209,253,36,16,70,67,224,84,80,83,239,217,150,8,27,43,79,49,160,94,202,185,188,159,254,191,171,247,135,217,229,209,165,127,160,131,10,231,28,141,202,138,127,74,152,191,181,154,154,182,56,160,34,88,93,123,80,53,228,189,203,143,159,21,115,163,222,172,254,178,72,24,70,150,209,249,27,173,50,149,42,37,53,95,128,197,2,20,249,2,17,160,214,151,0,134,75,179,239,174,72,235,14,102,0,35,134,32,29,127,105,153,17,70,15,33,30,23,46,102,172,87,106,235,160,148,157,189,29,241,70,100,94,215,152,231,54,102,174,96,158,43,193,179,28,242,87,49,229,157,8,29,212,96,16,237,231,160,132,88,52,198,67,45,192,213,204,20,241,235,164,137,13,214,38,174,38,193,138,198,96,32,82,43,255,54,185,100,241,250,160,100,101,41,239,88,190,187,48,216,118,148,24,6,194,83,193,236,113,191,103,102,122,18,224,32,106,166,73,123,19,107,15,160,124,80,135,144,166,28,167,35,59,171,35,37,27,21,89,142,160,74,42,188,146,88,37,253,177,18,168,35,181,226,157,138,160,235,131,167,121,32,234,60,179,56,92,240,109,38,51,131,102,102,136,139,167,141,4,206,174,164,176,218,251,22,196,104,247,160,184,220,151,7,214,234,132,100,241,188,143,189,120,208,104,162,198,175,22,213,223,207,139,190,111,160,93,25,118,41,245,40,160,137,184,17,74,43,7,238,45,154,82,204,7,129,67,181,111,135,90,124,56,167,169,119,14,247,101,110,134,33,67,73,26,160,121,128,143,169,155,102,143,35,171,28,3,114,236,46,64,219,218,109,17,147,124,129,164,207,226,239,44,10,230,101,108,223,160,148,117,218,120,42,254,44,225,62,134,201,177,32,235,72,191,43,139,52,200,4,10,95,156,10,0,224,56,148,34,140,208,160,228,130,62,86,112,11,25,71,241,142,176,135,6,208,101,41,202,218,248,126,111,221,24,73,241,238,146,36,234,6,6,161,160,158,157,84,181,102,207,32,157,60,24,122,132,25,93,46,122,100,209,147,124,33,142,96,208,172,237,69,101,253,190,4,78,160,170,5,54,63,236,168,22,196,50,17,233,88,219,163,241,124,204,83,56,52,4,129,160,189,210,8,50,110,112,11,159,16,160,178,176,192,47,50,225,12,37,176,13,187,25,144,12,223,157,193,65,109,6,158,74,176,242,158,228,66,224,187,113,236,171,160,7,86,82,72,181,26,80,68,191,3,66,117,110,127,231,57,181,220,111,2,159,250,25,240,154,43,122,30,7,180,13,44,160,180,182,98,76,125,50,0,87,6,49,88,122,212,112,2,72,124,120,115,206,178,14,27,179,227,42,21,249,70,98,124,135,128,197,2,20,249,2,17,160,79,186,104,96,250,53,150,49,38,183,124,158,79,53,224,187,8,2,88,176,213,162,195,43,27,125,200,169,52,7,79,130,160,230,52,40,65,89,150,208,31,250,248,178,152,137,169,214,189,31,194,19,184,36,252,116,1,91,76,21,170,121,166,101,196,160,47,4,70,100,134,153,195,110,236,86,180,90,160,254,162,61,87,255,122,247,145,207,45,101,235,51,20,153,207,30,78,131,160,57,127,127,65,46,187,227,153,240,123,208,114,94,39,236,227,69,184,217,235,163,64,245,10,3,84,82,201,149,232,228,219,160,236,125,57,10,108,60,10,134,34,135,248,36,238,21,31,209,122,187,176,121,68,225,117,184,69,75,22,183,231,104,84,169,160,39,149,174,126,163,27,156,135,89,62,248,226,1,70,210,63,165,68,20,158,33,14,66,193,157,223,158,229,56,35,231,76,160,166,222,58,36,185,196,65,22,23,229,14,207,248,239,211,17,8,9,47,77,45,168,141,138,234,245,193,229,87,226,0,250,160,123,132,238,183,73,221,133,60,63,111,156,40,32,52,186,140,181,82,149,74,128,89,65,248,128,70,91,47,250,175,144,224,160,34,107,22,111,46,151,213,28,104,23,49,140,165,7,216,37,151,138,53,83,230,73,64,250,253,83,67,103,166,160,134,14,160,7,101,101,83,206,248,192,162,169,254,229,1,119,240,73,193,221,135,52,238,2,134,198,251,2,232,52,255,114,2,236,202,160,66,83,121,67,204,198,136,189,112,251,182,239,112,188,6,55,152,6,13,69,41,121,148,143,158,209,48,198,213,60,40,8,160,159,164,65,83,117,30,243,164,166,0,30,134,121,101,60,172,106,119,70,157,113,17,188,107,149,32,181,175,203,104,4,60,160,36,92,125,203,251,95,71,159,254,190,182,74,188,180,54,155,161,172,198,185,127,217,152,35,111,34,250,237,204,102,252,118,160,245,2,220,80,230,21,217,23,77,193,165,138,165,251,134,46,76,53,60,184,76,113,246,110,116,101,153,123,159,215,204,188,160,107,67,203,129,202,40,245,16,64,6,45,164,28,174,62,204,45,92,119,125,89,106,207,250,57,66,187,154,249,166,135,141,160,25,244,227,4,6,234,167,199,83,142,201,238,64,6,235,123,208,82,148,162,251,221,73,71,205,47,81,38,135,30,4,147,128,197,2,20,249,2,17,160,124,91,2,201,132,246,170,140,140,174,213,95,174,137,172,19,196,100,50,229,235,9,242,245,170,173,188,240,172,97,145,58,160,24,170,171,194,191,243,140,131,250,91,57,254,254,159,92,213,168,16,78,195,91,207,223,52,152,122,24,241,107,154,108,235,160,216,21,218,244,246,250,160,46,50,131,127,149,90,38,119,114,1,206,102,244,27,157,133,253,234,248,75,151,247,26,118,43,160,162,146,216,64,92,100,223,122,8,6,122,219,40,162,0,86,178,15,113,98,26,222,183,95,62,227,92,149,220,73,59,35,160,237,243,209,161,66,183,104,60,204,158,1,204,1,72,186,11,99,171,241,182,198,243,63,240,115,125,152,36,231,90,242,27,160,248,91,243,65,134,114,180,90,84,95,231,59,24,84,158,74,172,12,253,16,108,250,97,158,106,18,133,23,166,111,136,95,160,159,150,210,113,76,179,128,206,89,49,92,222,195,116,148,229,233,115,25,68,91,95,254,232,192,29,103,196,218,184,243,126,160,94,80,191,89,221,182,40,195,28,163,47,131,58,66,49,34,167,218,228,48,34,5,146,5,59,159,72,85,112,16,189,253,160,233,80,125,108,5,75,49,97,219,44,152,15,137,244,159,88,35,222,163,135,151,118,248,78,193,251,207,249,217,113,183,75,160,71,3,215,150,241,178,104,56,148,37,135,83,98,46,160,45,219,78,156,32,50,113,76,18,172,116,139,225,55,124,237,177,160,122,16,1,44,15,13,175,49,96,217,234,209,53,75,132,232,248,222,32,196,182,219,180,235,156,4,230,87,219,246,231,53,160,236,183,184,90,19,136,223,9,61,178,199,36,118,194,62,27,205,125,98,140,119,225,116,103,9,65,121,89,80,51,103,196,160,221,127,170,84,139,130,202,232,10,39,215,157,13,195,74,66,195,107,195,104,234,232,118,196,85,128,119,73,185,12,192,132,160,231,123,182,167,248,40,12,153,18,199,44,107,95,213,16,57,65,105,61,228,147,129,64,207,97,6,172,238,38,27,176,232,160,109,106,40,8,190,54,190,128,225,21,71,152,62,61,214,183,254,126,255,228,71,128,42,238,200,164,16,146,140,177,232,155,160,202,164,78,82,87,121,80,10,80,253,77,16,135,16,123,249,198,57,73,119,237,61,146,19,205,77,254,224,40,43,45,63,128,197,2,20,249,2,17,160,137,232,168,23,249,86,9,0,18,18,167,125,15,185,71,160,235,236,1,164,36,209,167,130,210,254,64,39,212,189,222,116,160,251,58,155,193,87,234,92,164,210,13,224,240,155,177,200,148,81,178,90,156,109,252,164,82,167,24,218,164,159,89,57,129,160,147,54,143,70,64,37,214,125,104,155,254,148,114,92,188,29,145,226,218,93,17,201,0,82,131,8,167,128,185,152,134,222,160,132,110,109,187,112,180,194,207,138,139,236,163,222,89,169,165,132,178,154,210,48,135,182,245,31,103,219,98,104,126,22,91,160,89,153,60,251,118,230,163,239,0,63,98,6,106,202,160,92,189,28,15,154,249,105,109,90,37,24,176,62,236,219,54,146,160,131,154,14,68,145,51,42,107,184,120,36,235,179,255,237,242,15,70,245,191,92,136,92,2,112,43,105,171,113,84,222,120,160,234,58,197,170,92,239,67,206,128,70,172,221,37,251,123,234,212,70,188,31,53,29,254,3,184,2,129,31,67,208,27,112,160,118,89,76,50,170,251,75,242,173,198,30,104,161,39,218,63,30,133,244,96,194,167,228,112,23,197,199,217,132,207,232,190,160,71,124,222,71,85,3,40,133,155,65,15,210,163,128,36,236,192,65,185,191,220,94,251,204,61,34,182,110,147,225,124,136,160,108,254,239,71,47,121,80,119,23,245,199,47,126,235,71,140,141,12,220,114,196,16,138,134,48,148,162,35,138,53,136,203,160,237,162,6,12,101,170,175,199,126,138,54,232,253,204,53,244,136,83,61,59,121,246,149,7,103,2,17,28,4,227,184,73,160,193,10,197,176,121,106,53,113,149,108,133,170,144,231,65,207,111,0,99,75,255,157,98,209,34,13,136,244,63,77,60,131,160,86,238,197,97,53,22,20,82,93,70,207,184,116,78,250,50,227,23,35,222,206,215,172,109,243,71,195,86,75,118,191,107,160,191,202,177,157,240,113,114,1,194,194,12,64,57,23,95,133,216,53,178,121,186,42,194,201,57,123,155,180,159,228,204,91,160,26,112,97,79,63,11,81,52,235,16,98,101,74,55,138,206,187,156,18,226,65,192,172,108,15,223,124,183,109,193,96,248,160,134,177,79,25,26,147,132,91,62,63,109,19,97,92,41,255,197,166,164,190,255,230,208,174,36,18,37,65,110,142,43,33,128,197,1,148,249,1,145,128,160,185,145,255,146,142,223,175,134,197,116,57,193,132,53,97,13,50,222,69,30,227,254,67,150,112,203,228,223,185,254,241,63,160,56,147,26,243,15,24,42,171,146,120,180,91,217,89,113,109,180,123,233,152,89,216,99,174,199,209,114,89,150,66,238,101,128,160,110,219,6,25,183,143,240,220,104,227,155,170,183,101,10,112,226,162,18,243,13,236,29,243,233,197,80,123,157,78,71,167,160,142,118,254,49,166,114,177,68,226,144,163,84,39,121,171,112,131,23,157,69,227,240,124,90,63,187,26,10,186,31,174,23,160,100,96,2,245,158,84,13,38,216,153,114,243,99,170,115,109,95,234,246,27,152,250,32,112,126,73,4,78,192,101,219,252,160,243,190,64,145,114,11,58,66,58,102,134,94,185,195,172,209,197,73,211,53,132,221,162,55,82,76,115,101,214,35,121,77,128,160,101,34,12,169,205,48,43,98,180,254,23,119,169,149,107,201,255,185,182,217,90,66,10,145,194,87,198,17,95,74,236,136,160,220,121,25,75,202,115,252,169,215,176,239,25,169,30,53,72,148,249,142,246,45,113,99,237,44,155,219,2,73,73,168,77,160,101,237,170,48,105,42,247,72,74,148,149,121,69,150,172,151,91,29,181,181,111,174,200,216,104,178,133,95,254,201,32,234,160,193,24,68,16,109,21,197,0,73,133,85,116,40,51,33,158,6,76,227,197,246,253,211,35,108,144,50,68,196,235,206,175,160,126,93,160,120,241,94,26,110,58,87,102,67,109,175,76,160,12,222,119,166,149,5,128,203,100,172,233,185,124,168,64,195,128,160,47,190,233,248,11,148,207,246,178,175,77,155,7,233,137,101,4,121,186,196,154,135,55,5,191,95,31,110,179,65,57,72,128,196,83,248,81,128,128,128,128,128,128,128,128,128,128,128,160,132,92,59,148,248,84,70,188,183,196,100,63,244,118,44,219,251,76,61,9,107,208,144,185,81,127,91,62,16,101,128,233,160,77,156,7,35,117,94,81,242,47,187,85,206,66,206,178,148,48,174,102,20,124,12,235,76,142,154,208,142,51,33,246,27,128,128,128,128,196,104,248,102,157,32,121,221,238,204,105,179,222,100,174,149,146,40,17,28,185,83,14,5,128,35,122,183,43,142,251,53,185,24,184,70,248,68,1,128,160,111,128,90,186,244,228,37,34,169,116,77,47,196,212,159,112,211,179,116,71,197,55,165,18,49,198,164,147,108,12,192,174,160,64,145,175,171,47,251,91,182,91,250,212,143,111,162,61,156,204,4,129,204,168,105,33,2,223,103,116,130,9,61,113,105,148,196,32,16,217,221,1,142,76,174,80,51,131,201,248,4,193,193,96,58,218,88,86,238,120,148,55,93,155,151,205,140,139,39,219,196,29,156,217,162,59,88,230,132,185,133,246,97,206,112,5,170,142,16,99,1,80,193,0,0,0,0,0,0,0,6,148,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,243,248,241,128,160,189,33,226,121,32,152,229,194,236,121,4,248,241,134,105,196,86,148,219,55,250,150,78,243,77,101,112,40,104,63,45,38,128,128,128,128,160,193,179,68,155,151,30,178,55,79,170,229,92,122,70,95,16,177,245,112,95,185,53,162,123,103,213,177,122,61,15,163,232,128,128,128,160,30,33,63,97,77,125,113,227,252,46,23,61,221,120,21,103,43,14,141,144,53,31,129,122,140,142,197,84,247,14,190,73,160,169,68,143,102,233,78,104,219,75,108,167,68,241,62,167,228,155,22,170,108,179,255,17,215,124,115,208,236,97,113,244,139,160,62,98,50,239,3,44,52,193,15,72,156,103,52,248,49,78,101,60,103,207,238,38,59,125,238,117,228,236,47,23,161,138,128,160,173,85,78,137,171,34,110,151,40,109,246,125,78,15,236,203,172,124,139,252,233,57,211,10,184,117,211,37,13,222,144,82,160,237,142,63,104,58,100,199,217,165,103,129,3,202,81,177,21,2,102,137,59,165,230,89,180,54,116,25,111,214,29,24,29,128,196,83,248,81,128,128,160,227,238,80,229,165,84,24,90,94,129,161,223,30,114,245,192,85,182,224,183,237,152,178,40,211,214,222,213,12,125,39,221,128,128,128,128,128,160,31,53,130,64,1,81,191,64,57,198,232,213,123,134,212,109,23,195,128,1,67,181,56,180,62,241,58,252,213,111,164,251,128,128,128,128,128,128,128,128,196,64,248,62,159,48,161,102,206,23,75,151,115,15,24,52,247,176,48,253,7,241,42,176,191,87,204,208,241,223,251,67,41,156,13,237,157,156,217,162,59,88,230,132,185,133,246,97,206,112,5,170,142,16,99,1,80,193,0,0,0,0,0,0,0,6,196,32,16,217,221,1,142,76,174,80,51,131,201,248,4,193,193,96,58,218,88,86,238,120,148,55,93,155,151,205,140,139,39,220,196,5,132,4,22,78,96,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,243,248,241,128,160,189,33,226,121,32,152,229,194,236,121,4,248,241,134,105,196,86,148,219,55,250,150,78,243,77,101,112,40,104,63,45,38,128,128,128,128,160,193,179,68,155,151,30,178,55,79,170,229,92,122,70,95,16,177,245,112,95,185,53,162,123,103,213,177,122,61,15,163,232,128,128,128,160,30,33,63,97,77,125,113,227,252,46,23,61,221,120,21,103,43,14,141,144,53,31,129,122,140,142,197,84,247,14,190,73,160,169,68,143,102,233,78,104,219,75,108,167,68,241,62,167,228,155,22,170,108,179,255,17,215,124,115,208,236,97,113,244,139,160,62,98,50,239,3,44,52,193,15,72,156,103,52,248,49,78,101,60,103,207,238,38,59,125,238,117,228,236,47,23,161,138,128,160,173,85,78,137,171,34,110,151,40,109,246,125,78,15,236,203,172,124,139,252,233,57,211,10,184,117,211,37,13,222,144,82,160,237,142,63,104,58,100,199,217,165,103,129,3,202,81,177,21,2,102,137,59,165,230,89,180,54,116,25,111,214,29,24,29,128,196,40,231,160,32,64,151,74,236,90,140,28,8,169,181,184,4,77,218,110,64,139,146,148,42,213,182,72,252,184,12,47,195,125,0,151,133,132,4,22,78,96,196,32,16,217,221,1,142,76,174,80,51,131,201,248,4,193,193,96,58,218,88,86,238,120,148,55,93,155,151,205,140,139,39,221,196,3,130,3,221,147,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,197,1,116,249,1,113,160,255,205,27,8,204,124,162,229,176,81,218,134,204,52,135,221,232,147,181,219,86,23,225,84,46,84,74,224,40,20,84,157,128,128,160,119,26,204,5,131,232,137,20,214,211,60,128,202,237,178,5,46,145,171,158,130,31,25,44,173,21,141,42,99,133,165,131,160,169,179,104,43,160,41,235,110,228,67,178,125,114,112,78,139,123,2,57,227,177,30,178,121,77,2,162,54,202,142,190,209,128,160,125,201,218,27,63,29,38,143,130,35,240,167,175,46,45,193,98,108,194,231,125,201,127,145,139,61,56,104,122,157,125,167,160,165,142,190,29,89,240,118,117,134,198,96,190,242,68,186,66,238,86,49,69,6,167,123,94,252,245,98,37,111,3,10,40,160,148,176,112,83,34,57,77,192,182,192,173,234,248,73,60,104,2,15,201,242,163,93,238,104,250,48,32,126,65,66,237,34,160,213,241,235,63,102,211,130,53,169,41,113,120,10,45,214,15,42,26,95,171,5,193,99,10,3,140,205,69,117,151,49,243,160,38,50,150,175,240,250,7,119,36,80,126,199,120,118,125,231,29,211,210,59,2,156,117,133,59,33,230,167,109,50,205,37,160,99,90,47,174,183,251,14,121,99,74,193,251,22,132,99,1,109,159,51,224,229,71,170,239,70,147,251,91,54,216,237,227,160,113,115,13,152,72,235,154,86,94,240,98,88,183,104,61,137,118,188,217,59,238,223,249,75,121,88,69,185,139,73,224,223,128,128,160,105,151,93,72,1,92,9,247,248,208,242,57,244,145,30,144,197,23,23,58,127,68,67,93,115,140,218,189,229,246,220,230,128,196,38,229,160,32,10,209,84,4,195,175,118,99,48,192,156,202,202,30,238,172,130,120,194,28,228,27,222,118,31,171,225,255,254,120,27,131,130,3,221,196,32,16,217,221,1,142,76,174,80,51,131,201,248,4,193,193,96,58,218,88,86,238,120,148,55,93,155,151,205,140,139,39,222,196,33,160,110,101,117,116,114,111,110,49,50,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,148,197,2,20,249,2,17,160,226,177,181,158,193,85,172,164,101,97,45,250,147,82,2,166,61,139,128,165,6,62,171,123,107,191,31,58,63,39,167,161,160,25,186,47,48,172,87,233,19,161,99,137,212,141,101,18,39,172,66,252,79,163,62,60,72,163,151,132,96,48,221,37,178,160,226,149,173,121,175,252,70,22,247,183,230,234,29,24,235,26,232,108,138,112,173,93,217,232,165,91,13,10,194,152,43,206,160,245,56,138,213,123,143,1,125,103,169,177,10,162,247,180,229,0,244,5,22,246,37,230,146,170,116,203,255,148,33,13,162,160,143,89,9,145,116,41,161,69,17,5,253,55,55,123,107,236,120,178,145,180,2,74,42,29,52,226,231,210,136,221,224,1,160,94,178,84,20,98,162,141,86,249,108,183,175,203,103,133,179,23,235,230,47,140,195,162,206,176,82,0,155,67,102,209,231,160,124,85,250,222,214,227,235,65,4,237,233,13,92,179,158,141,35,204,42,91,205,19,175,179,12,83,123,155,87,238,230,189,160,164,140,116,227,88,221,184,38,93,42,4,22,60,25,61,222,147,50,29,2,238,252,225,175,208,51,18,104,223,255,86,190,160,73,184,5,79,114,16,68,224,203,252,64,221,105,98,71,31,248,222,212,251,59,16,171,228,5,16,238,47,211,83,164,172,160,36,185,163,71,12,115,195,229,67,139,127,123,98,193,126,139,56,40,50,27,169,72,254,53,125,24,36,98,66,149,126,7,160,109,159,137,3,23,122,223,238,63,56,234,158,188,132,105,115,228,55,8,71,127,248,52,218,75,50,17,209,245,121,140,172,160,237,113,57,185,132,117,187,195,62,229,117,76,181,33,145,232,123,22,170,56,24,74,111,3,156,252,87,253,255,203,132,111,160,227,70,205,37,244,132,220,7,83,124,147,194,138,39,11,96,105,218,239,11,129,228,8,43,88,173,207,53,227,0,103,4,160,225,108,101,14,3,233,59,93,254,75,196,201,122,39,230,202,129,198,186,243,41,65,189,234,209,95,92,111,172,23,220,105,160,161,219,169,18,242,249,110,38,152,243,82,214,221,164,194,171,221,7,173,254,3,27,60,37,129,116,40,157,198,31,127,124,160,204,167,151,199,46,30,70,3,246,110,178,201,228,4,164,80,80,20,186,203,92,128,250,234,50,5,94,216,108,163,26,250,128,196,243,248,241,128,160,101,95,54,206,209,35,246,229,42,155,124,61,192,138,140,89,0,153,98,226,230,172,86,54,67,56,120,204,84,223,110,122,128,160,84,18,63,60,113,33,107,233,221,157,151,134,66,94,182,210,225,84,214,59,27,156,90,152,90,19,150,1,169,213,254,61,160,109,47,71,79,58,88,206,235,100,159,247,15,236,144,119,18,191,186,165,104,75,193,16,38,215,85,167,152,255,118,119,246,160,159,104,182,99,213,148,203,135,185,20,250,156,98,70,140,142,213,217,5,96,54,226,162,66,178,200,107,217,119,46,114,130,128,160,227,65,139,77,166,13,215,140,104,210,109,164,95,218,23,100,143,160,85,40,95,96,22,157,13,117,58,86,235,29,188,35,128,128,160,115,44,168,36,121,158,197,173,76,204,37,251,136,230,228,130,136,121,147,243,222,55,152,247,74,120,97,150,142,5,37,136,160,202,219,125,244,137,164,255,74,112,55,116,191,241,36,187,67,60,81,60,29,10,33,247,248,252,1,188,236,44,155,157,206,128,128,128,128,128,196,83,248,81,160,203,154,34,114,163,22,170,124,69,139,30,74,253,0,255,53,144,124,130,30,150,163,103,175,196,232,30,76,45,156,79,121,128,128,128,128,128,128,128,128,128,160,249,62,97,79,234,34,47,155,181,152,70,248,85,51,174,191,67,117,133,17,99,207,226,116,22,153,139,120,56,92,97,181,128,128,128,128,128,128,196,68,248,66,159,60,79,21,7,112,4,151,133,254,199,30,2,138,249,22,174,186,149,149,232,98,74,45,94,6,185,81,165,161,88,220,161,160,110,101,117,116,114,111,110,49,50,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20]}"#;
    let data = r#"{
        "withdraw": {
            "id": 6,
            "owner": "0xd9a23b58e684b985f661ce7005aa8e10630150c1",
            "receiver": "neutron123",
            "redemptionRate": "0x4164e60",
            "sharesAmount": "0x3dd"
        }
    }"#;

    let data: Value = serde_json::from_str(data).unwrap();

    let withdraw = data["withdraw"].clone();
    let withdraw: WithdrawRequest = serde_json::from_value(withdraw).unwrap();

    let state_proof: StateProof = serde_json::from_str(state_proof).unwrap();

    clearing_queue_core::verify_proof(&state_proof, &withdraw).unwrap();
}
